<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Using Tests To Speed up FeedBack Loop" /><meta property="og:locale" content="en" /><meta name="description" content="Why Do I Even Care to Test? I have worked in a few code bases that only had tests at the center layers of the application. The team would rarely touch that code plus there is a good chance the test was stale. Any massive feature would lead to so much manual regression. We would lose up to a week of the sprint. Coming from a Q.A. background there is a process to do a manual regression. There are patterns and software that show steps as test cases. Using the software you would know what was done and you could have a pretty good estimate of how long you are doing regressions." /><meta property="og:description" content="Why Do I Even Care to Test? I have worked in a few code bases that only had tests at the center layers of the application. The team would rarely touch that code plus there is a good chance the test was stale. Any massive feature would lead to so much manual regression. We would lose up to a week of the sprint. Coming from a Q.A. background there is a process to do a manual regression. There are patterns and software that show steps as test cases. Using the software you would know what was done and you could have a pretty good estimate of how long you are doing regressions." /><link rel="canonical" href="https://jrdev.io//posts/Jumping-Into-Testing/" /><meta property="og:url" content="https://jrdev.io//posts/Jumping-Into-Testing/" /><meta property="og:site_name" content="Jr Dev" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-02T00:00:00-06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Using Tests To Speed up FeedBack Loop" /><meta name="twitter:site" content="@sigfualt" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-09T21:28:22-06:00","datePublished":"2022-02-02T00:00:00-06:00","description":"Why Do I Even Care to Test? I have worked in a few code bases that only had tests at the center layers of the application. The team would rarely touch that code plus there is a good chance the test was stale. Any massive feature would lead to so much manual regression. We would lose up to a week of the sprint. Coming from a Q.A. background there is a process to do a manual regression. There are patterns and software that show steps as test cases. Using the software you would know what was done and you could have a pretty good estimate of how long you are doing regressions.","headline":"Using Tests To Speed up FeedBack Loop","mainEntityOfPage":{"@type":"WebPage","@id":"https://jrdev.io//posts/Jumping-Into-Testing/"},"url":"https://jrdev.io//posts/Jumping-Into-Testing/"}</script><title>Using Tests To Speed up FeedBack Loop | Jr Dev</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Jr Dev"><meta name="application-name" content="Jr Dev"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/KamRon-67/jrdev.io/master/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jr Dev</a></div><div class="site-subtitle font-italic">Keeping software simple</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/KamRon-67" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/sigfualt" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cameronyoung','cmmsolutions.io'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Using Tests To Speed up FeedBack Loop</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Using Tests To Speed up FeedBack Loop</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Cameron Young </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 2, 2022, 12:00 AM -0600" >Feb 2, 2022<i class="unloaded">2022-02-02T00:00:00-06:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 9, 2022, 9:28 PM -0600" >Feb 9, 2022<i class="unloaded">2022-02-09T21:28:22-06:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1547 words">8 min read</span></div></div><div class="post-content"><h2 id="why-do-i-even-care-to-test">Why Do I Even Care to Test?</h2><p>I have worked in a few code bases that only had tests at the center layers of the application. The team would rarely touch that code plus there is a good chance the test was stale. Any massive feature would lead to so much manual regression. We would lose up to a week of the sprint. Coming from a Q.A. background there is a process to do a manual regression. There are patterns and software that show steps as test cases. Using the software you would know what was done and you could have a pretty good estimate of how long you are doing regressions.</p><h2 id="doing-things-the-hard-way">Doing Things the Hard Way</h2><p>Fast forward a few years. I moved over to the dev side, found myself doing two or three sprints then a massive “regression”. To be fair I worked in smaller companies so there were no Q.A. Team, C.I., or C.D. processes. No End 2 End, integration, or unit tests. For the most part, this did not bother me. I had figured this is just what you did as a software dev. After the epic was done you just spent three weeks fixing the side effects of the new feature. To be clear we were not allotted three weeks. We would just be given three days before new work was given. It would just take that long doing two things at once.</p><pre><code class="language-mermaid">flowchart TD
    A[Current Task] --&gt; B{Is there a bug?};
    B --&gt;|Yes| C[Work on Bug];
    C --&gt; D[Eye Ball It];
    D --&gt; B;
    B ----&gt;|No| E[Next task bug combo];
</code></pre><blockquote><p>This was the unspoken sub workflow. Possibly error-prone and slow. Bugs just pop up.</p></blockquote><p>At this point in my career, I did not know much about unit testing. Other devs I worked with would say unit testing is a waste of time. Spoiler alert, it is not. One time the pressure was on us. I had two views that were full of similar business logic that needed to be worked on in parallel. Yes, I am aware views should not contain business logic but at this company. As a team, we could not spell the word “refactor”. So we just added code on top of code. No tests, just manual regressions. To verify we did not break existing functionality.</p><h2 id="my-breaking-point">My Breaking Point</h2><p>Each view had a jquery powered dropdown that would populate dynamic dropdowns based on an ajax call. Depending on the combination of drop dropdowns. There could be various page combinations in the same section. As you can start to see, this is just a problem waiting to happen. Not shortly after I was “done” not only did I have a few bugs to fix. The requirements changed. On paper the logic was clear, both views should act the same. The problem was both views had been created by two different consultants with two different coding styles. With zero communication between each other. One view used custom templating logic and another used a very complex nested loop with a poor naming convention. The requirements for this section changed multiple times. This was the first time I wanted tests. Both views were broken before we added code. This section of code gave me the blues. To test any of your changes you had to do a long manual process. With this long feedback loop verifying any changes was that much harder. This project put me on my testing journey. Before then I had done years of dev work without writing any tests for my work. The long feedback loop was burning me out. Fast forward to 2022 I pretty much use integration tests whenever possible.</p><p>So later I got a mentor and started down my padawan journey again. I was told to do kata’s and use unit tests “File logger kata <a href="https://githistory.xyz/KamRon-67/file-logger-kata/blob/master/FileLogger/FileLogger_Log.cs">class1</a> <a href="https://githistory.xyz/KamRon-67/file-logger-kata/blob/master/FileLogger/FileLogger.cs">class2</a> to keep my code structured. Now I was face to face with my unit testing ignorance. I then decided to do the zero to hero route. When I learn new things I have to learn everything so I know what to ignore later. So why even unit test? To get a workflow like this. Something like this would have told me when my changes were breaking my views.</p><pre><code class="language-mermaid">flowchart TD
    A[Build Process] --&gt; B{Test passing?};
    B --&gt;|No| C[Work on Bug];
    C --&gt; D[Run test];
    D --&gt; B;
    B ----&gt;|yes| E[Nothing/Next Task];
</code></pre><blockquote><p>Here the system checks for breaking changes if set up correctly. Bugs come to you!</p></blockquote><h2 id="compiling-test-knowledge">compiling test knowledge</h2><p>Well, code tends to deteriorate each time it is changed. You don’t know if you are introducing new problems. Even at this moment, unit tests seemed like a magical thing that would keep my code clean. I was not aware that tests only work in one direction. If you can not unit test the code, it is low quality. In the same breath. Just because you can unit test the code doesn’t mean it is quality code.</p><p>Ok so now I am a tester there are two paths I could go down classical and London. Both styles verify a piece of code, both do it quickly and in an isolated manner. Now what isolated means is where the paths start to differ. London style you want to focus on the class under test as much as possible. Any dependencies you would want to mock or use test doubles.</p><div class="language-csharp highlighter-rouge"><div class="code-header" text-data="csharp"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">Engine</span> 
<span class="p">{</span>
    <span class="k">private</span> <span class="n">CarPart</span> <span class="n">_cylinder</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">IgpsRepository</span> <span class="n">_gpsRepository</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">ILocationServices</span> <span class="n">_locationservices</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">engine</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">engine</span><span class="p">(</span><span class="n">IgpsRepository</span> <span class="n">gpsRepository</span><span class="p">,</span> <span class="n">ILocationServices</span> <span class="n">_locationservices</span><span class="p">,</span> <span class="n">CarPar</span> <span class="n">cylinder</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_cylinder</span> <span class="p">=</span> <span class="n">cylinder</span><span class="p">;</span>
    <span class="p">}</span>
         <span class="c1">//.. Do things</span>

    <span class="k">public</span> <span class="n">CarAction</span> <span class="nf">drive</span><span class="p">(</span><span class="n">Speed</span> <span class="n">speed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// do things</span>
        <span class="k">return</span> <span class="n">carAction</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-csharp highlighter-rouge"><div class="code-header" text-data="csharp"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="c1">// ... In a test class at the top part </span>
<span class="k">private</span> <span class="k">readonly</span> <span class="n">IgpsRepository</span> <span class="n">_gpsRepository</span> <span class="p">=</span> <span class="n">Substitute</span><span class="p">.</span><span class="n">For</span><span class="p">&lt;</span><span class="n">IgpsRepository</span><span class="p">&gt;();</span>
<span class="k">private</span> <span class="k">readonly</span> <span class="n">ILocationServices</span> <span class="n">_locationservices</span> <span class="p">=</span> <span class="n">Substitute</span><span class="p">.</span><span class="n">For</span><span class="p">&lt;</span><span class="n">ILocationServices</span><span class="p">&gt;();</span>

<span class="c1">// ... In a test class</span>
<span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">CoolTestName</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// simple test double example</span>
    <span class="kt">var</span> <span class="n">part</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CarPart</span><span class="p">();</span> <span class="p">&lt;--</span> <span class="n">test</span> <span class="kt">double</span>
    <span class="kt">var</span> <span class="n">_sut</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Engine</span><span class="p">(</span><span class="n">part</span><span class="p">);</span> 
    <span class="c1">//... Test and things</span>
<span class="p">}</span>

<span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">CoolTestName</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Data for mock</span>
    <span class="kt">var</span> <span class="n">latitude</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Latitude</span>
    <span class="p">{</span>
        <span class="n">Latitude</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span>
        <span class="n">Longitude</span> <span class="p">=</span> <span class="m">5</span>
    <span class="p">}</span>

    <span class="kt">var</span> <span class="n">locaton</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Location</span>
    <span class="p">{</span>
        <span class="n">State</span> <span class="p">=</span> <span class="s">"state"</span>    
    <span class="p">}</span>

     <span class="n">_gpsRepository</span><span class="p">.</span><span class="nf">GetLatitude</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">).</span><span class="nf">Returns</span><span class="p">(</span><span class="n">latitude</span><span class="p">));</span>
     <span class="n">_locationservices</span><span class="p">.</span><span class="nf">GetState</span><span class="p">(</span><span class="s">"state"</span><span class="p">).</span><span class="nf">Returns</span><span class="p">(</span><span class="n">locaton</span><span class="p">);</span>
    <span class="c1">// Using mocks to make test doubles example</span>
    <span class="kt">var</span> <span class="n">part</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CarPart</span><span class="p">();</span> <span class="c1">// &lt;-- test double</span>
    <span class="kt">var</span> <span class="n">speed</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Speed</span><span class="p">(</span><span class="m">55</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">_sut</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Engine</span><span class="p">(</span><span class="n">_gpsRepository</span><span class="p">,</span> <span class="n">_locationservices</span><span class="p">,</span> <span class="n">part</span><span class="p">);</span> <span class="c1">// &lt;-- using mocks</span>
    <span class="kt">var</span> <span class="n">action</span> <span class="p">=</span> <span class="n">_sut</span><span class="p">.</span><span class="nf">drive</span><span class="p">(</span><span class="n">speed</span><span class="p">);</span>
    <span class="c1">//... Test and things</span>
    
    <span class="n">Assert</span><span class="p">.</span><span class="nf">NotNull</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p>There are many types of doubles Dummy, Fake, Stub, Spy and Mock to name a few.</p></blockquote><p>The goal here is to separate the classes heavier from any external influence. In the classical approach, we just want to do all of the unit tests in an isolated manner. We want all of the tests to avoid talking to any shared state. The classical style is looser, a unit could be a single class or a set of classes. Long as you use test doubles for any shared dependencies. After getting an understanding of my options I see the London style is not my cup of tea.</p><div class="language-csharp highlighter-rouge"><div class="code-header" text-data="csharp"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">interface</span> <span class="nc">ICalculator</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">Mode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">event</span> <span class="n">EventHandler</span> <span class="n">PoweringUp</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// In test file </span>
<span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">CoolTestName</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Setting up the mock</span>
    <span class="n">calculator</span> <span class="p">=</span> <span class="n">Substitute</span><span class="p">.</span><span class="n">For</span><span class="p">&lt;</span><span class="n">ICalculator</span><span class="p">&gt;();</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p>This is an example from the nsubstitute docs.</p></blockquote><p>In the past, I worked in codebases that had little to no interfaces. Using mocks would result in me creating interfaces and proxy classes to get things under test. This has to be done because mocking classes is <a href="https://stackoverflow.com/questions/1595166/why-is-it-so-bad-to-mock-classes">bad practice</a>. I will use a mock but it is a last resort. Working in messy codebases. Getting anything under test is already a challenge, I need all of the flexibility I can get. If you’re open to reading PHP this was a cool <a href="https://github.com/sarven/unit-testing-tips#introduction">little guide to testing</a></p><p>Test doubles are just the start of the dive into the talk of dependencies in testing. Understanding collaborators and dependencies allows you to avoid pitfalls when making tests. Just like with test doubles, there are many types of dependencies.</p><h2 id="flavors-of-dependencies">Flavors of Dependencies</h2><p>The first thing I had to wrap my head around is what dependency is. When you read something it may not click till you use it, or do some more digging. Shared, private, and out-of-process dependencies came up the most. What is a collaborator? Anything mutable. Classes like the dbContext would be a collaborator because it is providing access to the database. The DB is a shared dependency. Value types or objects can be dependencies as well. A shared dependency is a dependency used between tests and can affect each other’s outcomes. A private dependency is not shared. An out of process dependency runs outside the applications execution process. This is a rabbit hole of what’s what information.</p><p><img data-proofer-ignore data-src="https://raw.githubusercontent.com/KamRon-67/KamRon-67.github.io/abd931ddb80c01ec5c5e1fc41e96fda1aed20c90/assets/img/Dependencies.jpg" alt="A diagram for dependencies" title="A diagram for dependencies" /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>blogging</a>, <a href='/categories/testing/'>testing</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/unit-testing/" class="post-tag no-text-decoration" >Unit Testing</a> <a href="/tags/testing/" class="post-tag no-text-decoration" >Testing</a> <a href="/tags/test-doubles/" class="post-tag no-text-decoration" >Test Doubles</a> <a href="/tags/mocks/" class="post-tag no-text-decoration" >Mocks</a> <a href="/tags/london-school/" class="post-tag no-text-decoration" >London School</a> <a href="/tags/detroit-school/" class="post-tag no-text-decoration" >Detroit School</a> <a href="/tags/collaborators/" class="post-tag no-text-decoration" >Collaborators</a> <a href="/tags/dependencies/" class="post-tag no-text-decoration" >Dependencies</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Using Tests To Speed up FeedBack Loop - Jr Dev&url=https://jrdev.io//posts/Jumping-Into-Testing/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Using Tests To Speed up FeedBack Loop - Jr Dev&u=https://jrdev.io//posts/Jumping-Into-Testing/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Using Tests To Speed up FeedBack Loop - Jr Dev&url=https://jrdev.io//posts/Jumping-Into-Testing/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Clean-Architecture-Take-Away-Part-1/">Clean Architecture Take Away Part 1</a><li><a href="/posts/Working-With-WebApplicationFactory/">Working With WebApplicationFactory</a><li><a href="/posts/Jumping-Into-Testing/">Using Tests To Speed up FeedBack Loop</a><li><a href="/posts/Intro-To-DI-Aggregation-Association-And-Composition/">Intro To DI, Aggregation Association And Composition</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/testing/">Testing</a> <a class="post-tag" href="/tags/aspnet-core/">aspnet core</a> <a class="post-tag" href="/tags/prototype-chain/">Prototype Chain</a> <a class="post-tag" href="/tags/tdd/">TDD</a> <a class="post-tag" href="/tags/testing-framework/">Testing Framework</a> <a class="post-tag" href="/tags/visual-studio/">Visual Studio</a> <a class="post-tag" href="/tags/proto/">__proto__</a> <a class="post-tag" href="/tags/aggregation/">Aggregation</a> <a class="post-tag" href="/tags/api/">API</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/The-T-In-TDD/"><div class="card-body"> <span class="timeago small" >Mar 11, 2021<i class="unloaded">2021-03-11T00:00:00-06:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The T In TDD</h3><div class="text-muted small"><p> By this point. If you have read some of my older blog postings. You know I am a part of a programming group that is big on TDD and the DDD paradigm. My mind is all over the place and I learn 5 thin...</p></div></div></a></div><div class="card"> <a href="/posts/Working-With-WebApplicationFactory/"><div class="card-body"> <span class="timeago small" >Feb 2, 2023<i class="unloaded">2023-02-02T00:00:00-06:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Working With WebApplicationFactory</h3><div class="text-muted small"><p> Throughout my career, I have seen the testing pyramid. I was under the impression that one should create more unit tests than integration tests with a dash of UI testing. The first part of my caree...</p></div></div></a></div><div class="card"> <a href="/posts/strategy-pattern/"><div class="card-body"> <span class="timeago small" >Feb 2, 2021<i class="unloaded">2021-02-02T00:00:00-06:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Strategy Pattern</h3><div class="text-muted small"><p> I joined this group to improve my programming skills and understanding of software concepts. In this group, there is a book list. One of those recommended books is Head First Design Patterns. In th...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Intro-To-DI-Aggregation-Association-And-Composition/" class="btn btn-outline-primary" prompt="Older"><p>Intro To DI, Aggregation Association And Composition</p></a> <a href="/posts/Working-With-WebApplicationFactory/" class="btn btn-outline-primary" prompt="Newer"><p>Working With WebApplicationFactory</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small mb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://jrdev.io//posts/Jumping-Into-Testing/'; this.page.identifier = '/posts/Jumping-Into-Testing/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://jr-dev-1.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/sigfualt">Cameron Young</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/testing/">Testing</a> <a class="post-tag" href="/tags/aspnet-core/">aspnet core</a> <a class="post-tag" href="/tags/prototype-chain/">Prototype Chain</a> <a class="post-tag" href="/tags/tdd/">TDD</a> <a class="post-tag" href="/tags/testing-framework/">Testing Framework</a> <a class="post-tag" href="/tags/visual-studio/">Visual Studio</a> <a class="post-tag" href="/tags/proto/">__proto__</a> <a class="post-tag" href="/tags/aggregation/">Aggregation</a> <a class="post-tag" href="/tags/api/">API</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jrdev.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-149577567-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149577567-1'); }); </script>
